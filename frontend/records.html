<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Records</title>
    <link rel="icon" href="{{ url_for('static', filename='img/icon.png') }}" type="image/png">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dash.css') }}">
    <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <div class="logo-details">
            <i class='bx bx-diamond'></i>
            <span class="logo_name">Welcome</span>
        </div>
        <ul class="nav-links">
            <li><a href="/teacher/dashboard"><i class='bx bx-grid-alt'></i><span class="links_name">Dashboard</span></a></li>
            <li><a href="/exams"><i class='bx bx-book-content'></i><span class="links_name">Exams</span></a></li>
            <li><a href="/results"><i class='bx bxs-bar-chart-alt-2'></i><span class="links_name">Results</span></a></li>
            <li><a href="#" class="active"><i class='bx bxs-user-circle'></i><span class="links_name">Records</span></a></li>
            <li><a href="/teacher/message"><i class='bx bx-message'></i><span class="links_name">Messages</span></a></li>
            <li><a href="/teacher/settings"><i class='bx bx-cog'></i><span class="links_name">Settings</span></a></li>
            <li><a href="/help"><i class='bx bx-help-circle'></i><span class="links_name">Help</span></a></li>
            <li class="log_out"><a href="{{ url_for('logout') }}"><i class='bx bx-log-out-circle'></i><span class="links_name">Log out</span></a></li>
        </ul>
    </div>
    <section class="home-section">
        <nav>
            <div class="sidebar-button">
                <i class='bx bx-menu sidebarBtn'></i>
                <span class="dashboard">Teacher's Dashboard</span>
            </div>
            <div class="profile-details">
                <img src="{{ session['teacher_img'] }}" alt="profile">
                <span class="admin_name">{{ session['teacher_fname'] }}</span>
            </div>
        </nav>
        <div class="home-content">
            <div class="stat-boxes">
                <div class="recent-stat box" style="padding: 0px 0px;">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Full Name</th>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Gender</th>
                                <th>DOB</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for student in students %}
                            <tr>
                                <td>{{ student.id }}</td>
                                <td>{{ student.fname }}</td>
                                <td>{{ student.uname }}</td>
                                <td>{{ student.email }}</td>
                                <td>{{ student.gender }}</td>
                                <td>{{ student.dob }}</td>
                                <td>
                                    <form action="{{ url_for('update_user') }}" method="post">
                                        <input type="hidden" name="id" value="{{ student.id }}">
                                        <button type="submit" class="rounded-button-updt"><i class='bx bxs-edit'></i></button>
                                    </form>
                                </td>
                                <td>
                                    <form action="{{ url_for('delete_user', user_id=student.id) }}" method="post">
                                        <input type="hidden" name="delete_id" value="{{ student.id }}">
                                        <button type="submit" class="rounded-button-del"><i class='bx bx-x'></i></button>
                                    </form>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="top-stat box">
                    <div class="title">Add New Student</div>
                    <form action="{{ url_for('add_user') }}" method="post">
                        <div style="margin-bottom: 15px;">
                            <label for="fname">Full Name</label>
                            <input type="text" id="fname" name="fname" placeholder="Enter full name" minlength="4" maxlength="30" required style="width: 100%; padding: 10px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="uname">Username</label>
                            <input type="text" id="uname" name="uname" placeholder="Enter username" minlength="5" maxlength="15" required style="width: 100%; padding: 10px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="pword">Password</label>
                            <input type="password" id="pword" name="pword" placeholder="Enter password" minlength="8" maxlength="16" required style="width: 100%; padding: 10px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="cpword">Confirm Password</label>
                            <input type="password" id="cpword" name="cpword" placeholder="Confirm password" minlength="8" maxlength="16" required style="width: 100%; padding: 10px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="Enter email" required style="width: 100%; padding: 10px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="dob">Date of Birth</label>
                            <input type="date" id="dob" name="dob" required style="width: 100%; padding: 10px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label for="gender">Gender</label>
                            <input type="text" id="gender" name="gender" placeholder="Enter gender (M/F)" maxlength="1" required style="width: 100%; padding: 10px;">
                        </div>
                        <button type="submit" class="btn" style="padding: 10px 20px; font-size: 16px; width: 100%;">Add Student</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
